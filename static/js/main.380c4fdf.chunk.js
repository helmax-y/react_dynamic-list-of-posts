(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(4),s=n.n(r),o=n(2),l=n.n(o),m=n(5),u=n(1),i=(n(12),function(e){return fetch(e).then(function(e){return e.json()})}),p=function(e){var t=e.user,n=t.name,a=t.email,r=t.address;return c.a.createElement("section",null,c.a.createElement("p",null,n),c.a.createElement("p",null,a),c.a.createElement("address",null,Object.entries(r).map(function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return"object"!==typeof a&&c.a.createElement(c.a.Fragment,{key:n},n," ",a,c.a.createElement("br",null))})))},b=function(e){var t=e.comment,n=t.name,a=t.email,r=t.body;return c.a.createElement("section",{className:"comment"},c.a.createElement("h3",{className:"comment__title"},n),c.a.createElement("section",{className:"comment__main-part"},c.a.createElement("p",null,a),c.a.createElement("p",{className:"comment__body"},r)))},d=function(e){return e.comments.map(function(e){return c.a.createElement(b,{key:e.id,comment:e})})},f=function(e){var t=e.post,n=t.title,a=t.body,r=t.user,s=t.comments;return c.a.createElement("article",{className:"post"},c.a.createElement("h2",null,n),c.a.createElement("section",{className:"post__main-part"},c.a.createElement("p",{className:"post__body"},a),c.a.createElement(p,{user:r})),c.a.createElement(d,{comments:s}))},E=function(e){return e.posts.map(function(e){return c.a.createElement(f,{key:e.id,post:e})})},h=function(){var e,t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)([]),p=Object(u.a)(o,2),b=p[0],d=p[1],f=Object(a.useState)(!1),h=Object(u.a)(f,2),y=h[0],j=h[1],v=Object(a.useState)(!1),O=Object(u.a)(v,2),N=O[0],g=O[1],_=Object(a.useState)(!1),w=Object(u.a)(_,2),k=w[0],x=w[1];return c.a.createElement("main",{className:"list"},c.a.createElement("h1",null,"Dynamic list of posts"),0!==b.length&&c.a.createElement("section",{className:"search-bar"},c.a.createElement("input",{type:"text",placeholder:"search post",className:"input",onChange:function(t){return function(t){g(!1);var n=setTimeout(function(){if(n===e){var a=r.filter(function(e){return e.title.includes(t)||e.body.includes(t)});0===a.length?g(!0):d(a)}else clearTimeout(n)},700);e=n}(t.target.value.trim())}}),N&&c.a.createElement("p",{className:"warning"},"There are no such posts, please try another search combination")),y&&c.a.createElement("button",{type:"button",className:"button button--non-active"},"Loading"),!y&&(0===b.length?c.a.createElement("button",{className:"button",type:"button",onClick:function(){var e,t,n,a,c,r;return l.a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return j(!0),o.prev=1,o.next=4,l.a.awrap(Promise.all([i("https://jsonplaceholder.typicode.com/posts"),i("https://jsonplaceholder.typicode.com/users"),i("https://jsonplaceholder.typicode.com/comments")]));case 4:e=o.sent,t=Object(u.a)(e,3),n=t[0],a=t[1],c=t[2],r=n.map(function(e){return Object(m.a)({},e,{user:a.find(function(t){return t.id===e.userId}),comments:c.filter(function(t){return t.postId===e.id})})}),s(r),d(r),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),x(!0);case 17:j(!1);case 18:case"end":return o.stop()}},null,null,[[1,14]])}},"Load"):c.a.createElement(E,{posts:b})),k&&c.a.createElement("p",null,"There is an issue, please try again later"))};s.a.render(c.a.createElement(h,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.380c4fdf.chunk.js.map